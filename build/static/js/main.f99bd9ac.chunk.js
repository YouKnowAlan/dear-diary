(this["webpackJsonpdear-diary"]=this["webpackJsonpdear-diary"]||[]).push([[0],{239:function(e,t,c){},246:function(e,t,c){},247:function(e,t,c){},248:function(e,t,c){},397:function(e,t,c){},398:function(e,t,c){},399:function(e,t,c){},400:function(e,t,c){},433:function(e,t,c){"use strict";c.r(t);var n=c(26),a=c(0),o=c.n(a),s=c(36),i=c.n(s),r=(c(239),c(438)),l=c(439),j=c(28),d=c(3),b=function(){return Object(d.jsxs)(r.a,{className:"d-flex justify-content-between align-items-center nav-bg",children:[Object(d.jsx)(j.b,{to:"/",className:"brand",children:"Dear Diary"}),Object(d.jsx)(l.a,{children:Object(d.jsx)(j.c,{to:"/favorite",className:"custom-button",children:"Favorites"})})]})},u=c(19),O=c(441),x=c(75),f=c(17),h=(c(246),c(46)),m=c(104),p=c.n(m),v=function(e){var t=e.note;h.extend(p.a);var c=Object(f.b)(),n=t.favorite?Object(d.jsx)(x.a,{}):Object(d.jsx)(x.c,{});return Object(d.jsx)(O.a,{className:"cardNote",children:Object(d.jsxs)(O.a.Body,{children:[Object(d.jsxs)("div",{className:"favorite-remove-icon",children:[Object(d.jsx)("div",{className:"favorite-icon",onClick:function(){c(function(e){var t=!e.favorite;return function(c,n,a){(0,a.getFirestore)().collection("notes").doc(e.id).update({favorite:t}).then((function(){console.log("note successfully add to favorite")})).catch((function(e){console.log(e)}))}}(t))},children:n}),Object(d.jsx)(x.d,{className:"remove-icon",onClick:function(){c(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).delete().then((function(){console.log("note successfully deleted")})).catch((function(e){console.log(e)}))}}(t))}})]}),Object(d.jsx)(j.b,{to:"/note/"+t.id,children:Object(d.jsx)(O.a.Title,{children:t.title})}),Object(d.jsx)(O.a.Text,{children:t.content}),Object(d.jsx)(O.a.Text,{className:"text-muted",children:h(t.createdAt.toDate()).fromNow()}),Object(d.jsx)("div",{className:"edit-icon",children:Object(d.jsx)(j.b,{to:"/editform/".concat(t.id),children:Object(d.jsx)(x.b,{onClick:function(){c({type:"EDIT_NOTE",payload:t})}})})})]})})},N=(c(247),function(e){var t=e.notes;return Object(d.jsx)("div",{className:"notes-list",children:Object(d.jsx)("div",{className:"note-list",children:t&&t.map((function(e){return Object(d.jsx)(v,{note:e},e.id)}))})})}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),c=Object(u.a)(t,2),n=c[0],o=c[1],s=function(){o(e)},i={value:n,onChange:function(e){o(e.target.value)}};return[n,i,s]},y=c.p+"static/media/post-it.7c831644.png",F=(c(248),c(440)),T=c(230),C=c(231),w=function(){var e=Object(f.b)(),t=g(""),c=Object(u.a)(t,3),o=c[0],s=c[1],i=c[2],r=g(""),l=Object(u.a)(r,3),j=l[0],b=l[1],O=l[2],x=Object(a.useState)(!1),h=Object(u.a)(x,2),m=h[0],p=h[1],v=Object(a.useState)("button-submit"),N=Object(u.a)(v,2),w=N[0],I=N[1];Object(a.useEffect)((function(){console.log(m),!1===m&&I("button-submit"),!0===m&&I("button-submit animate");var e=setTimeout((function(){p(!1)}),700);return function(){clearTimeout(e)}}),[m]);return Object(d.jsx)("div",{className:"section",children:Object(d.jsxs)(F.a,{onSubmit:function(t){var c;t.preventDefault(),e((c={title:o,content:j},function(e,t,a){(0,a.getFirestore)().collection("notes").add(Object(n.a)(Object(n.a)({},c),{},{favorite:!1,createdAt:new Date})).then((function(){console.log("new note successfully created")})).catch((function(e){console.log(e)}))})),i(),O()},children:[Object(d.jsxs)("h5",{className:"card-title",children:["New note",Object(d.jsx)("span",{children:Object(d.jsx)("img",{src:y,className:"stickerNotes"})})]}),Object(d.jsx)(T.a,{controlId:"exampleForm.ControlInput1",children:Object(d.jsx)(C.a,Object(n.a)({type:"text",placeholder:"Note title"},s))}),Object(d.jsx)(T.a,{controlId:"exampleForm.ControlTextarea1",children:Object(d.jsx)(C.a,Object(n.a)({as:"textarea",rows:3,placeholder:"Note content"},b))}),Object(d.jsx)("button",{className:w,type:"submit",onClick:function(){return p(!m)},children:"add note"})]})})},I=c(436),S=c(232),D=c(437),k=c(22),A=c.p+"static/media/down.80fc0441.png",B=function(){Object(k.useFirestoreConnect)([{collection:"notes",orderBy:["createdAt","desc"]}]);var e=Object(f.c)((function(e){return e.firestore.ordered.notes})),t=Object(a.useState)(""),c=Object(u.a)(t,2),n=c[0],o=c[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),r=i[0],l=i[1],b=Object(a.useState)([]),O=Object(u.a)(b,2),x=O[0],h=O[1];return Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)(I.a,{className:"justify-content-center",children:[Object(d.jsx)(S.a,{lg:5,className:"form-field",children:Object(d.jsx)(w,{})}),Object(d.jsxs)(S.a,{lg:7,className:"notes-field",children:[Object(d.jsxs)("h5",{children:["Search the past notes here ",Object(d.jsx)("img",{src:A,className:"icon-title"})]}),Object(d.jsxs)(F.a,{inline:!0,children:[Object(d.jsx)(C.a,{type:"text",placeholder:"Search",value:n,onChange:function(t){return function(t){var c=[];t.length>0&&(c=e.filter((function(e){var c=new RegExp(t,"gi");return e.title.match(c)}))),h(c),o(t)}(t.target.value)},className:"searchText"}),Object(d.jsx)(j.b,{to:"/note/".concat(r),className:"link-detail ml-auto",children:Object(d.jsx)(D.a,{variant:"outline-danger",className:"button-detail",children:"get detail"})})]}),x&&x.map((function(e,t){return Object(d.jsx)("div",{className:"suggestion",onClick:function(){return function(e,t){o(e),l(t),h([])}(e.title,e.id)},children:e.title},t)}))]})]}),Object(d.jsxs)("section",{className:"notes-list",children:[Object(d.jsx)("h5",{children:"Notes list"}),Object(d.jsx)(N,{notes:e})]})]})},E=c.p+"static/media/star.f89c4762.svg",R=(c(397),function(){Object(k.useFirestoreConnect)([{collection:"notes",orderBy:["createdAt","desc"],where:["favorite","==",!0],storeAs:"favnotes"}]);var e=Object(f.c)((function(e){return e.firestore.ordered.favnotes}));return console.log("favnotes",e),Object(d.jsxs)("div",{className:"favorite-section",children:[Object(d.jsxs)("span",{className:"favorite-title",children:[Object(d.jsx)("img",{src:E,className:"icon-title"}),Object(d.jsx)("h5",{children:"Favorite Notes"}),Object(d.jsx)("img",{src:E,className:"icon-title"})]}),Object(d.jsx)(N,{notes:e,className:"favorite-list"})]})}),L=c(233),P=c.n(L),_=(c(398),function(e){h.extend(p.a),h.extend(P.a);var t=e.match.params.id;Object(k.useFirestoreConnect)([{collection:"notes",doc:t}]);var c=Object(f.c)((function(e){var c=e.firestore.data;return c.notes&&c.notes[t]}));return Object(k.isLoaded)(c)?Object(k.isEmpty)(c)?Object(d.jsxs)(O.a,{className:"note-detail",children:[Object(d.jsx)(O.a.Body,{children:Object(d.jsx)(O.a.Text,{className:"note-title",children:"Note doesn't exist"})}),Object(d.jsx)(O.a.Footer,{})]}):Object(d.jsxs)(O.a,{className:"note-detail",children:[Object(d.jsxs)(O.a.Body,{children:[Object(d.jsx)(O.a.Text,{className:"note-title",children:c.title}),Object(d.jsx)(O.a.Text,{className:"note-content",children:c.content})]}),Object(d.jsx)(O.a.Footer,{children:h(c.createdAt.toDate()).calendar()})]}):Object(d.jsxs)(O.a,{className:"note-detail",children:[Object(d.jsx)(O.a.Body,{children:Object(d.jsx)(O.a.Text,{className:"note-title",children:"Loading..."})}),Object(d.jsx)(O.a.Footer,{})]})}),z=c(9),J=(c(399),function(){var e=Object(f.b)(),t=Object(z.f)(),c=Object(f.c)((function(e){return e.note})),a=g(c.title),o=Object(u.a)(a,3),s=o[0],i=o[1],r=o[2],l=g(c.content),j=Object(u.a)(l,3),b=j[0],O=j[1],x=j[2];return Object(d.jsx)("div",{className:"section",children:Object(d.jsxs)(F.a,{onSubmit:function(n){n.preventDefault(),e(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).update({title:e.title,content:e.content}).then((function(){console.log("note successfully add to favorite")})).catch((function(e){console.log(e)}))}}({id:c.id,title:s,content:b})),r(),x(),t.push("/")},children:[Object(d.jsx)("h5",{className:"card-title",children:"Edit Note"}),Object(d.jsx)(T.a,{controlId:"exampleForm.ControlInput1",children:Object(d.jsx)(C.a,Object(n.a)({type:"text",placeholder:"Note title"},i))}),Object(d.jsx)(T.a,{controlId:"exampleForm.ControlTextarea1",children:Object(d.jsx)(C.a,Object(n.a)({as:"textarea",rows:3,placeholder:"Note content"},O))}),Object(d.jsx)("button",{className:"button-submit",type:"submit",children:"Update Note"})]})})});c(400);var K=function(){return Object(d.jsxs)(j.a,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)(z.c,{children:[Object(d.jsx)(z.a,{exact:!0,path:"/",component:B}),Object(d.jsx)(z.a,{path:"/favorite",component:R}),Object(d.jsx)(z.a,{path:"/note/:id",component:_}),Object(d.jsx)(z.a,{path:"/editform/:id",component:J})]})]})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,442)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),o(e),s(e)}))},Q=c(60),U=c(59),W={note_to_edit:{}},X=Object(Q.b)({note:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case"EDIT_NOTE":return n;default:return e}},firebase:k.firebaseReducer,firestore:U.firestoreReducer}),q=c(234),G=c(74);c(434);G.a.initializeApp({apiKey:"AIzaSyBkXDw8xo8ejiuix0PKWT6iOQbh18NfO0A",authDomain:"dear-diary-6bc34.firebaseapp.com",projectId:"dear-diary-6bc34",storageBucket:"dear-diary-6bc34.appspot.com",messagingSenderId:"1015276434426",appId:"1:1015276434426:web:682f81861020acbecd2a43"});var H=G.a,V=Object(Q.d)(X,Object(Q.c)(Object(Q.a)(q.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:U.getFirestore})),Object(U.reduxFirestore)(H))),Y={firebase:G.a,config:H,dispatch:V.dispatch,createFirestoreInstance:U.createFirestoreInstance};i.a.render(Object(d.jsx)(f.a,{store:V,children:Object(d.jsx)(k.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},Y),{},{children:Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(K,{})})}))}),document.getElementById("root")),M()}},[[433,1,2]]]);
//# sourceMappingURL=main.f99bd9ac.chunk.js.map